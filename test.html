<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<title>闭包演示</title>
<style type="text/css">
    p {background:gold;}
</style>
<script type="text/javascript">
// function init() {
//     var pAry = document.getElementsByTagName("p");
//     for(var i = 0; i<pAry.length; i++) {
//         (function(e) {
//             pAry[e].onclick = function() {
//                 alert(e)
//             }
//         })(i);
//     }
// }

// function init() {
//     var pAry = document.getElementsByTagName("p");
//     for( var i=0; i<pAry.length; i++ ) {
//          (pAry[i].onclick = function() {
//              alert(i);
//         })(i)
//     }
// }

function init() {
    var pAry = document.getElementsByTagName("p");
    for( var i=0; i<pAry.length; i++) {
        pAry[i].onclick = function() {
            alert(i);
        }
    }
}

var myObject = {
     foo: "bar",
     func: function() {
         var self = this;
         console.log("outer func: this.foo = " + this.foo);
         console.log("outer func: self.foo = " + self.foo);
         (function() {
             console.log("inner func: this.foo = " + this.foo);
             console.log("inner func: self.foo = " + self.foo);
         }());
     }
};

myObject.func();

</script>
</head>
<body onload="init();">
<p>产品 0</p>
<p>产品 1</p>
<p>产品 2</p>
<p>产品 3</p>
<p>产品 4</p>
</body>
</html>
